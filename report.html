<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Fighter Game: Lab Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
        }
        header {
            background-color: #4CAF50;
            color: white;
            text-align: center;
            padding: 6px 0;
            position: sticky;
            top: 0;
            width: 100%;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #444;
        }
        code {
            background: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        ul {
            list-style: disc;
            margin-left: 20px;
        }
        footer {
            text-align: center;
            padding: 10px 0;
            background: #4CAF50;
            color: white;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>

<header>
    <h1>Space Fighter Game: Lab Report</h1>
</header>

<div class="container">
    <section>
        <h2>Project Overview</h2>
        <p>The Space Fighter Game is an arcade-style shooting game developed using Python and the Pygame library. This report provides a detailed breakdown of the code structure, including descriptions of every function and its role in the game. The game challenges players to control a spaceship, avoid obstacles, collect coins and power-ups, and shoot down enemies.</p>
    </section>

    <section>
        <h2>Game Structure</h2>
        <h3>Initialization</h3>
        <ul>
            <li><strong>Pygame Initialization:</strong> The game begins by initializing Pygame with <code>pygame.init()</code>.</li>
            <li><strong>Screen Setup:</strong> The game window is set to 800x700 pixels.</li>
            <li><strong>Global Variables:</strong> These include player attributes, obstacle parameters, coin and power-up configurations, and the score.</li>
            <li><strong>Asset Loading:</strong> Backgrounds, player sprites, obstacles, and other images are loaded and scaled to fit the game dimensions.</li>
        </ul>
    </section>

    <section>
        <h2>Functions and Their Roles</h2>
        <article>
            <h3>1. <code>is_overlapping</code></h3>
            <p><strong>Purpose:</strong> Determines if two rectangles overlap. Used to check collisions between game elements like obstacles and the player.</p>
            <p><strong>Parameters:</strong></p>
            <ul>
                <li><code>x1, y1, w1, h1:</code> Coordinates and dimensions of the first rectangle.</li>
                <li><code>x2, y2, w2, h2:</code> Coordinates and dimensions of the second rectangle.</li>
            </ul>
            <p><strong>Returns:</strong> Boolean indicating overlap.</p>
        </article>

        <article>
            <h3>2. <code>create_obstacle</code></h3>
            <p><strong>Purpose:</strong> Spawns new obstacles at random x-coordinates while avoiding overlaps with other objects.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Attempts up to 20 times to place the obstacle without overlapping.</li>
                <li>Increments the obstacle count and spawns coins or power-ups periodically.</li>
            </ul>
        </article>

        <article>
            <h3>3. <code>move_obstacles</code></h3>
            <p><strong>Purpose:</strong> Moves obstacles downward and removes those that leave the screen.</p>
            <p><strong>Effect:</strong> Increases the player’s score when obstacles pass off-screen.</p>
        </article>

        <article>
            <h3>4. <code>create_coin</code></h3>
            <p><strong>Purpose:</strong> Spawns a collectible coin at the top of the screen at random positions.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Avoids overlaps with existing obstacles.</li>
            </ul>
        </article>

        <article>
            <h3>5. <code>move_coin</code></h3>
            <p><strong>Purpose:</strong> Moves the coin downward and removes it if it leaves the screen.</p>
            <p><strong>Returns:</strong> The updated coin object or <code>None</code> if the coin is removed.</p>
        </article>

        <article>
            <h3>6. <code>create_life_power_up</code></h3>
            <p><strong>Purpose:</strong> Spawns a life power-up at the top of the screen at random positions.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Avoids overlaps with existing obstacles and the coin.</li>
            </ul>
        </article>

        <article>
            <h3>7. <code>move_life_power_up</code></h3>
            <p><strong>Purpose:</strong> Moves the life power-up downward and removes it if it leaves the screen.</p>
            <p><strong>Returns:</strong> The updated life power-up object or <code>None</code> if removed.</p>
        </article>

        <article>
            <h3>8. <code>check_collision</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collides with any obstacles.</p>
            <p><strong>Effect:</strong> Reduces player lives and clears obstacles on collision.</p>
            <p><strong>Returns:</strong> Boolean indicating if a collision occurred.</p>
        </article>

        <article>
            <h3>9. <code>check_coin_collection</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collects a coin.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Increases lives and score.</li>
                <li>Increases game difficulty by spawning obstacles faster and speeding them up.</li>
            </ul>
        </article>

        <article>
            <h3>10. <code>check_life_power_up_collection</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collects a life power-up.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Grants an extra life.</li>
                <li>Adds points to the score.</li>
            </ul>
        </article>

        <article>
            <h3>11. <code>shoot_bullet</code></h3>
            <p><strong>Purpose:</strong> Fires a bullet from the player’s position.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Bullets are added to a global list and move upwards.</li>
            </ul>
        </article>

        <article>
            <h3>12. <code>move_bullets</code></h3>
            <p><strong>Purpose:</strong> Moves bullets upward and checks for collisions with obstacles.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Removes obstacles and bullets upon collision.</li>
                <li>Increases score.</li>
            </ul>
        </article>

        <article>
            <h3>13. <code>draw</code></h3>
            <p><strong>Purpose:</strong> Renders all game elements on the screen.</p>
            <p><strong>Components Rendered:</strong></p>
            <ul>
                <li>Background, player, obstacles, bullets, coins, power-ups, lives, and score.</li>
            </ul>
        </article>

        <article>
            <h3>14. <code>draw_game_over</code></h3>
            <p><strong>Purpose:</strong> Displays the "Game Over" screen with the final score and restart/quit options.</p>
        </article>

        <article>
            <h3>15. <code>game_loop</code></h3>
            <p><strong>Purpose:</strong> The main loop of the game that handles gameplay logic, rendering, and events.</p>
            <p><strong>Key Tasks:</strong></p>
            <ul>
                <li>Handles user inputs for movement and shooting.</li>
                <li>Updates game elements (e.g., obstacles, coins, power-ups).</li>
                <li>Detects collisions and checks win/loss conditions.</li>
                <li>Displays the game over screen if the player loses all lives.</li>
            </ul>
        </article>

    </section>

    <section>
        <h2>Dependencies</h2>
        <h3>Pygame</h3>
        <ul>
            <li><code>pygame.init()</code>: Initializes the Pygame library.</li>
            <li><code>pygame.display.set_mode()</code>: Sets up the game window.</li>
            <li><code>pygame.display.set_caption()</code>: Sets the window title.</li>
            <li><code>pygame.image.load()</code>: Loads images for the game.</li>
            <li><code>pygame.transform.scale()</code>: Resizes images.</li>
            <li><code>pygame.surfarray.make_surface()</code>: Converts video frames to Pygame surfaces.</li>
            <li><code>pygame.font.SysFont()</code>: Creates fonts for rendering text.</li>
            <li><code>pygame.draw.rect()</code>: Draws rectangles for bullets.</li>
            <li><code>pygame.key.get_pressed()</code>: Captures real-time key presses.</li>
            <li><code>pygame.event.get()</code>: Processes user events like key presses and quits.</li>
            <li><code>pygame.quit()</code>: Closes the Pygame application.</li>
            <li><code>pygame.time.Clock()</code>: Controls the frame rate.</li>
        </ul>
        <h3>OpenCV</h3>
        <ul>
            <li><code>cv2.VideoCapture()</code>: Opens video files.</li>
            <li><code>cv2.VideoCapture.read()</code>: Reads frames from a video.</li>
            <li><code>cv2.CAP_PROP_POS_FRAMES</code>: Sets or gets the current frame position in a video.</li>
            <li><code>cv2.cvtColor()</code>: Converts image colors (not used explicitly in this code).</li>
        </ul>
    </section>

    <section>
        <h2>Execution Steps</h2>
        <ol>
            <li>Ensure required libraries are installed:</li>
            <pre><code>pip install pygame opencv-python</code></pre>
            <li>Place all required assets (images and video) in the specified directories.</li>
            <li>Run the game script:</li>
            <pre><code>python game.py</code></pre>
        </ol>
    </section>

    <section>
        <h2>Future Improvements</h2>
        <ul>
            <li>Introduce more levels with varying difficulties.</li>
            <li>Add more enemy types and power-ups.</li>
            <li>Enhance visual effects and animations.</li>
            <li>Implement multiplayer functionality.</li>
        </ul>
    </section>
</div>

<footer>
    <p>&copy; 2024 Space Fighter Game: Lab Report</p>
</footer>

</body>
</html>
